# school_users
Spring-boot + MVC  + JPA + PostgresSQL Application
Spring-Boot приложение school. 

В архиве содержаться:
1. Папка school - maven project school исходными кодами 
2. school.jar - исполняемый файл, не требующий установки сервера
3. school.war - файл для разворачивания на Tomcat сервере
4. Файл createdb.sql -создание БД с пользователем БД
5. Файл dropdb.sql - удаление БД с пользователем

Приложение позволяет регистрироваться пользователями, каждому пользователю заходить под своим логином и паролем в учетную запись(аккаунт),
редактировать персональные данные, удалить свой аккаунт, просматривать список пользователей, с детализаций.
Администатор ресурса может удалять пользователей из общего списка пользователей

Приложение существует в двух независимых вариантах:

1.school.jar
Исполняемый файл. Не требует дополнительной установки Tomcat сервера, т.к сервер разворачивается внутри приложения.

2.school.war, который необходимо разместить в папке webapps сервера Tomcat

Подготовка к запуску приложения:

1. Перед запуском необходимо создать базу данных school_berezin в PostgresSQL.

	Запустить скрипт createdb.sql, используя утилиту psql, выполнив в командной строке cmd следующие операции:
		1. psql -U postgres -p 5432 (postgres - пользователь DB, порт 5432, значения по умолчанию), либо
            	   PostgreSQL\pg96\bin\psql.exe -U postgres -p 5432 
	 	2. Выполнить команду \i Путь_к_папке_с_приложением\berezin_school\createdb.sql

	Данный скрипт создает базу данных school_berezin, пользователя school_berezin_user с паролем "school_berezin",
	со всеми правами доступа. Имя базы(адресом по умолчанию localhost:5432/school_berezin), пользователя и пароль 
	содержатся в файл конфигурации проекта aplication.properties (src\main\resources). Данный файл можно изменить, 
        указав другие имена пользователей БД, порт и имя БД. Таблица users создается при первом запуске приложения
        автоматически средствами Hibernate. 

2. Для jar файла: 
	1. Запустить school.jar
	2. Перейти в браузере по ссылке http://localhost:8080/ , либо http://localhost:8080/index

3. Для war файла:
	1. Установить сервер Apache Tomcat 8.0
	2. Поместить в папка_сервера\webapp файл school.war
	3. В папка_сервера\bin запустить файл startup.bat, после чего произойдет развертывание приложения на сервере
 	4. Перейти в браузере по ссылке http://localhost:8080/school , либо http://localhost:8080/school/index

4. Для регистрации администратора ресурса:
	1. Перейти к регистрации нового пользователя 
	2. Создать пользователя с логином 'admin', с указанием пароля
	3. Вернуться в главное меню и войти в режим администрирования под логином admin

5. Для регистрации пользователя ресурса:
	1. Перейти к регистрации нового пользователя 
	2. Создать пользователя с любым логином, указать персональные данне. 
	   Пароль и логин обязательные поля для заполнения.

6. Удалить базу данных можно путем выполнения скипта dropdb.sql, в процессе выполнения которого ограничиваются 
   новые подключения к БД, отключаются существующие и БД удаляется
